# Flask Configuration
# REQUIRED: Generate a strong secret key for production (e.g., python -c "import secrets; print(secrets.token_hex(32))")
FLASK_SECRET_KEY=
# Optional: Your public URL (e.g., https://subsearch.example.com)
SITE_URL=
# Port to run the application on
PORT=5055
REDDIT_TIMEOUT=10

# Reddit API Credentials
# Get these at: https://www.reddit.com/prefs/apps (create a "script" app)
REDDIT_CLIENT_ID=
REDDIT_CLIENT_SECRET=
# Optional: Reddit account for authenticated searches (higher rate limits)
REDDIT_USERNAME=
REDDIT_PASSWORD=
REDDIT_USER_AGENT=SubSearch/1.0 (self-hosted)

# Database (set DB_TYPE to postgres to enable external db)
DB_TYPE=sqlite
SUBSEARCH_BASE_DIR=
SUBSEARCH_DATA_DIR=
SUBSEARCH_DB_PATH=
SUBSEARCH_MAX_CONCURRENT_JOBS=1
# Rate limit delay between API calls (seconds). Lower = faster but may hit rate limits
# Recommended: 0.1-0.15 for authenticated users, 0.2-0.3 for read-only
SUBSEARCH_RATE_LIMIT_DELAY=0.15
SUBSEARCH_PUBLIC_API_LIMIT=2000
SUBSEARCH_PERSIST_BATCH_SIZE=32
SUBSEARCH_JOB_TIMEOUT_SECONDS=3600
DB_POSTGRES_HOST=localhost
DB_POSTGRES_PORT=5432
DB_POSTGRES_DB=subsearch
DB_POSTGRES_USER=subsearch
DB_POSTGRES_PASSWORD=
DB_POSTGRES_SSLMODE=prefer

# Auto-ingest controls
AUTO_INGEST_ENABLED=1
AUTO_INGEST_INTERVAL_MINUTES=180
AUTO_INGEST_LIMIT=1000
AUTO_INGEST_MIN_SUBS=0
AUTO_INGEST_DELAY_SEC=0.25
AUTO_INGEST_KEYWORDS=

# Random dictionary automation
RANDOM_SEARCH_ENABLED=1
RANDOM_SEARCH_INTERVAL_MINUTES=360
RANDOM_SEARCH_LIMIT=2000
RANDOM_WORD_API=https://random-word-api.vercel.app/api?words=1

# Volunteer node email delivery
NODE_EMAIL_SENDER=
NODE_EMAIL_SENDER_NAME=Sub Search Nodes
NODE_EMAIL_SMTP_HOST=
NODE_EMAIL_SMTP_PORT=587
NODE_EMAIL_SMTP_USERNAME=
NODE_EMAIL_SMTP_PASSWORD=
NODE_EMAIL_USE_TLS=1
NODE_CLEANUP_INTERVAL_SECONDS=86400
NODE_BROKEN_RETENTION_DAYS=7

# Phone-home federation
PHONE_HOME=false
PHONE_HOME_ENDPOINT=https://allthesubs.ericrosenberg.com/api/ingest
PHONE_HOME_TOKEN=
PHONE_HOME_TIMEOUT=10
PHONE_HOME_BATCH_MAX=500
PHONE_HOME_SOURCE=self-hosted
